<main *ngIf="board" class="main-board-detail">
    <div #sidebar class="board-detail">
        <div class="sidebar-container">
            <div class="sidebar">
                <div class="board-info">
                    <h2>{{ board.name }}</h2>
                    <!--This is the board's author email-->
                    <!--<p class="author">{{ board?.user.email ??? }}</p>-->
                </div>
                <hr class="divider">
                <div class="settings" (click)="openSettings()">
                    <i class="bi bi-gear-fill"></i>
                    <label translate>global.settings</label>
                </div>
                <hr class="divider">
                <div class="lists-container">
                    <div class="lists-header">
                        <h4 class="title" translate>boards.boardLists</h4>
                    </div>
                    <div class="dropdown">
                        <ng-container *ngFor="let list of lists; let i = index">
                            <ng-container>
                                <div #list class="list-card">
                                    <label class="list-name" (click)="selectList(list)">{{ list.name }}</label>
                                    <i class="delete-btn bi bi-trash3" (click)="deleteTaskList(list.id)"></i>
                                </div>
                            </ng-container>
                        </ng-container>
                    </div>
                    <i #add class="add-btn bi bi-plus-square" (mouseover)="toggleFill(add)" (mouseout)="toggleFill(add)" (click)="openCreateList()"></i>
                </div>
            </div>
            <img class="close-btn" (click)="toggleSidebar()" src="../../../assets/icons/IoCaretBackCircle.svg">
        </div>
        <div class="list-detail-container" *ngIf="showListDetail">
            <app-list-detail [selectedList]="selectedList"></app-list-detail>
        </div>
    </div>

    <div class="overlay" *ngIf="showPopup" (click)="showPopup = false"></div>
    <div class="popup" *ngIf="showPopup">
        <app-create-list *ngIf="showCreateList" (listCreated)="addList($event)" (closePopup)="hidePopup()"></app-create-list>
        <app-board-settings *ngIf="showSettings" (boardEdited)="updateBoard($event)" (closeBoardSettings)="hidePopup()" [board]="board"></app-board-settings>
    </div>
</main>