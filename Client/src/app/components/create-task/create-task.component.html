<form class="create-task" (ngSubmit)="onSubmit()" [formGroup]="form">
    <div class="form-header">
        <h2 translate>Crear tarea</h2>
        <img class="close-btn" (click)="onClose()" src="../../../assets/icons/IoCloseCircle.svg">
    </div>

    <div class="form-body">
        <div class="form-group">
            <label class="name" for="taskName">{{ 'global.name' | translate }}<span class="asterisk">*</span></label>
            <input class="input" type="text" name="taskName" formControlName="taskName">
        </div>

        <div class="form-group">
            <label class="name" for="taskDescription">{{ 'global.description' | translate }}</label>
            <textarea class="input" rows="6" cols="30" name="taskDescription" formControlName="taskDescription"></textarea>
        </div>

        <div class="inline-group">
            <div class="form-group">
                <label class="name">{{ 'states.state' | translate }}<span class="asterisk">*</span></label>
                <div class="select" id="state-select" (click)="openStateSelect()">
                    <div class="input select-btn">
                        <label class="placeholder-text" *ngIf="!selectedState">
                            Select a state...
                        </label>
                        <label class="state" *ngIf="selectedState">
                            <span class="balloon">
                                <div class="circle"></div>{{ selectedState.name }}
                            </span>
                        </label>
                    </div>
                </div>
                <div class="popup" *ngIf="openStateSelectPopup">
                    <app-state-list *ngIf="openStateSelectPopup" (close)="this.openStateSelectPopup = false" (state)="selectState($event)" [states]="states" [selectedState]="selectedState"></app-state-list>
                </div>
            </div>

            <div class="form-group">
                <label class="name">{{ 'labels.labels' | translate }}</label>
                <div class="select" id="label-multiselect">
                    <div class="input select-btn">
                        <div class="selected-label-list">
                            <label class="placeholder-text" *ngIf="!selectedLabels">
                                Select labels...
                            </label>
                            <ng-container *ngIf="selectedLabels">
                                <ng-container *ngFor="let label of selectedLabels">
                                    <label class="label">
                                        <span class="balloon">{{ label.name }}</span>
                                    </label>
                                </ng-container>
                            </ng-container>
                        </div>
                    </div>
                    <ul id="label-list" class="list">
                        <ng-container *ngFor="let label of labels">
                            <li class="label closed"><span class="balloon"><i class="icon "></i>{{ label.name }}</span></li>
                        </ng-container>
                    </ul>
                </div>
            </div>
        </div>

        <div class="inline-group">
            <div class="form-group">
                <label class="name">{{ 'global.startDate' | translate }}</label>
                <input class="input" type="date" name="startDate" formControlName="startDate">
            </div>

            <div class="form-group">
                <label class="name">{{ 'global.dueDate' | translate }}</label>
                <input class="input" type="date" name="dueDate" formControlName="dueDate">
            </div>
        </div>
    </div>

    <div class="buttons">
        <button class="btn qt-btn" type="submit">{{ 'global.ok' | translate }}</button>
    </div>
</form>